# An Express Server Template

# ผลงานที่ได้จากการทำโปรเจกต์วันนี้ เรื่อง Backend Skill Checkpoint
# วันนี้ผมได้ฝึกทำ API สำหรับระบบถาม–ตอบ (Questions & Answers) โดยใช้ Node.js + Express + PostgreSQL ซึ่งได้เรียนรู้หลายอย่าง เช่น
# 1. การสร้าง endpoint สำหรับเพิ่ม ลบ แก้ไข และค้นหาคำถาม/คำตอบ
# 2. การใช้ middleware เพื่อตรวจสอบ questionId หรือ answerId ก่อนจะทำงานจริง เช่น ถ้าไม่เจอให้ส่ง 404 กลับไป และพวกเช็คคำต่างๆในอยู่ในเงื่อนไขตามที่ได้กำหนดไว้ ก่อนที่จะทำงานต่อไป next();
# 3. การเขียน SQL ให้รองรับการค้นหาแบบมีเงื่อนไข และการใช้ RETURNING * เพื่อดึงข้อมูลที่ถูกสร้างหรืออัปเดตกลับมาทันทีไม่ต้องส่งไปขอ Database ใหม่
# 4. การรู้เรื่องการจัดการ foreign key และ ON DELETE CASCADE เพื่อให้เวลาลบคำถาม สามารถลบคำตอบและโหวตทั้งหมดที่เกี่ยวข้องได้โดยอัตโนมัติ แต่ผมเลือกใช้วิธีการกำหนดให้ลบเองไม่แก้ไขระบบ database (แต่รู้การปรับ Cascade แล้ว)
# การแก้ไขปัญหาที่เจอบ่อย เช่น error เรื่อง binding parameter, invalid questionId และ foreign key constraint

# จากการทำงานวันนี้ผมเข้าใจมากขึ้นเลยครับว่า เวลาออกแบบฐานข้อมูลและ API ต้องวางโครงสร้างความสัมพันธ์ให้ดี ไม่อย่างนั้นตอนลบข้อมูลจะมี ข้อมูลที่ลบไม่ออกหรือค้างอยู่ ซึ่งการใช้ ON DELETE CASCADE ถือเป็นวิธีที่สะดวกและถูกต้องกว่า (ความรู้ใหม่ครับผม)